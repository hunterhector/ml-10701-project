Entering Text with A Four-Button Device Kumiko Tanaka-Ishii and Yusuke Inutsuka and Masato Takeichi The University of Tokyo 7-3-1 Bunkyoku Hongo, Japan fkumiko, inu, takeichig@ipl.t.u-tokyo.ac.jp Abstract This paper presents the design of a text-entry device that requires only four buttons.
Such a device is applicable as the text interface of portable machines and as an interface for disabled people.
The text-entry system is predictive;; the basis for this is an adaptive language model.
Our evaluation showed that the system is at least as ecient for the entry of free text as the text-entry systems of current-generation mobile phones.
The system requires fewer keystrokes than a full keyboard.
After adaptation, one user reached a maximum speed of 23 wpm.
1 Introduction
Electronic machinery is becoming smaller;; recent developmentsin palmtop andmobile-phone technologies oer dramatic examples of this process.
Since smaller machines are more portable, their users have freer access to information.
Here, however, the user interface is a major issue.
If a machine is being used as a medium for personto-person communications, a natural interface might be speech-based.
Forother tasks, however,like browsing through Internet pages or looking up databases, the most natural tool for control and data entry is still the keyboard.
Mobile machines oer little surface space, so only a few buttons are available for the entry of text.
The most representativeformistheuseof10keys for text entry on mobile phones.
However, even smaller machines continue to appear, suchaswatch-sized computers.
It might not be possible to equip such machines with more than four or ve buttons.
Questions then arise.
Is it possible to enter text with a small number of buttons?
What about four buttons?
How ecient can wemake this?
Other potential applications for text entry with four buttons include the control panels of oce machines and household machines.
Although these machines increasingly contain functions that allow access to the Internet, sucient surface space for a full keyboard is often not available.
Another potential application is in text-entry interfaces for elderly and disabled people.
A report (of Advanced Design of Integrated Information Society, 2000) indicates that keyboard operation is the highest hurdletotheuseof computers by the aged.
The situation is even worse for people with hand-related disabilities.
A text-entry device with four largebuttons might facilitate humanmachine communications bysuch people.
The idea of decreasing the number of keys on the keyboard in itself is not new.
The oldest realization of this idea is the stenotype keyboards.
With the recent popularity of mobile machines, researchers have become increasingly interested in onehanded keyboards(Mathias et al., 1996).
Most of the work to date in this eld has been related to mobile phones.
Text entry on current-generation devices remains cumbersome, so innovative companies(Tegic 9, 2000)(ZI-Corp., 2000)(Slangsoft, 2000) have proposed predictive methods for the more eciententry of text by implementing a method that had rst been proposed some years earlier(Rau and Skiena, 1994).
The results of several studies have veri ed its eciency(James and Reischel, 2001)(Tanaka-Ishii et al., 2000), so the technology looks promising in the context of mobile phones.
Our study goes further in decreasing the number of buttons than the above-cited studies.
In our study, we tried various text-entry methods and found the predictive method to be the best.
As far as we know, no other study that includes the application of a language model has yet been carried out in this context;; neither has the eciency of this approach been examined.
Additionally, the major contribution is our study of the potential power of a language model by examining its actual eciency on a device with few buttons.
In the next section, we rst show how text is entered via our TouchMeKey4 keypad.
2 An
Example Figure 1-1 shows the GUI for the TouchMeKey4 keypad.
Nine buttons are visible, with four on either side of the central boxes plus a `quit' button on the righthand side.
In this paper, we only count those buttons that are only used for the entry of characters that is, the four on the right-hand side.
We also impose the constraint that the buttons may only be pressed one at a time, because the inclusion of key-chords increases the actual number of buttons by including the combinations of keys.
Six or seven letters of the alphabet are assigned to each of the buttons.
The no.
1key has `abcdef', the no.
2 key has `ghijkl', the no.
3key has `mnopqrs', and the no.
4 key has `tuvwxyz'.
The small letters Figure 1: Entering the word \technology" with the TouchMeKey4 keypad are assigned to the same keys as the corresponding capital letters.
All other ASCII characters other than the alphanumeric characters are assigned to the no.
4key. Suppose that wehavejustentered the string `human language'.
The text appears in the upper box in the middle of the window (the upper text-box in Figure 1-1).
We now wish to enter the word `technology'.
Words are entered through a single-tapper-character form of predictiveentry;; a key is only pressed once to enter a character.
For example, the no.
4 button is pressed once to enter the `t' of `technology'.
Toenter the subsequent `e', the no.
1 button is pressed once.
After the no.
1 button has been pressed, the TouchMeKey4 windowisasshown in Figure 1-2 1. Here, we see two dierences from Figure 1-1.
The rst is that `41' appears in the box in the middle of the window.
This indicates the string that the user has just entered.
The second change is that some words have appeared in the lower box in the middle of the window (a list-box that we call the `candidate-box').
These words are the candidate words that correspond to the user's input, `41'.
Eachpressof abutton bythe usermakesthe TouchMeKey4 system automatically search the dictionary for candidates.
The candidates include longer words as well as, if such words exist, words of the same length as the entered sequence of digits.
The candidates are thus all words that begin with one letter from `tuvwxyz' followed by one letter from `abcdef'.
For example, `text', `was', and `vendors' are candidates, as is the two-character candidate `we'.
The numerous candidates are sorted into an order before they areplaced in the candidate box and shown to the user.
The order is according to word probability as determined on the basis of PPM (prediction by partial match), which has been proposed in the information-theory domain.
A detailed description is given in x4, but we summarize the method's essence here as part of our explanation of Figure 1.
The relevance of each candidate is measured by statistics from two sources.
Base dictionary the unigram statistics collected fromahuge corpus of newspaper data, and User corpus the ngram statistics obtained from a small personal document supplied by the user.
In this example, the Base dictionary is constructed from one year of issues of the Wall Street Journal (WSJ) that contains 93 000 dierent words and the User Corpus is a computer magazine that contains 10 000 words.
The particular User corpus is the reason for the appearance of the relatively uncommon word `vendors' among the top ve candidates (Figure 1-2).
Our target `technology' appears as the secondranked candidate.
In selecting this word, the user highlights it by using the down button on the left1 Note that the most recently pressed button is framed bya thick line.
hand side of the window(Figure 1-3) and then presses the enter button (Figure 1-4).
We see that the selected candidate now appears in the upper text-box 2 . In describing our realization of the TouchMeKey4 system outlined above, the following four questions are discussed in the remainder of this paper: Interface Is some method other than that described above suitable for text entry with a four-button device?
Candidate Estimation How can the system estimate the relevance of each candidate?
Key Assignment How should characters be assigned to the individual buttons?
Number Of Keys What is the minimum numberof keys required?
Is the entry of free text with only two buttons reasonably ecient? 3 Interface Various methods for the entry of text via a fourbutton device are conceivable.
The biggest choice is whether or not to adopt a predictive method.
3.1 Non-PredictiveEntry Methods Let's start by considering the case where we don't adopt prediction.
This means that we need to enable the exact entry of the individual characters via the four buttons.
One method of this type involves assigning an order to the characters on eachkey;;akey is then pressed i times to obtain the i-th character (we call this the multi-tap method).
This method is commonly applied on mobile phones.
However, there are two problems with this method.
Firstly, the user often needs to press a key numerous times to obtain a single target character.
Secondly, there is an ambiguity in the user action when two characters assigned to the same button are to be entered one after another ('aa' requires the entry of '11' that can also be 'b').
This situation requires the use of an escape.
A second possible method is to press a rst button to select it, and then enter the number i to select the ith character which is assigned to the rst button.
For example, on many mobile phones, `o' is obtained by pressing the no.
6 key and then the no.
3 key, since `o' is the third letter on the no.
6key. However, if the number of letters on each key is greater than the number of keys, entry of the higher i values is implausiblydicult.
With theTouchMeKey4system, for example, a system for the easy entry of fth and sixth characters, etc., is not possible.
In short, the free entry of text turns out to be too dicult with a four-button device unless we adopt 2 As with any system where a predictive method is applied, the weak pointofTouchMeKey4 is the processing of unknown words which do not appear in the dictionary.
Therefore, it is important that the Base dictionary contains a richvocabulary.
When, however, an unknown word occurs, it may still be entered character bycharacter by using the methods described inx3.1, or the system may be connected with a larger dictionary via a network.
Table 1: Data used in this work name WSJ ZIFF JA usage base user user dictionary corpus corpus domain newspaper computer scienti c magazine paper Total no.
wrds 6.6 6.2 9.0 (million wrds) No.
di. wrds 93 99 173 (thousand wrds) Wrds in common 100 40 18 with Base Dictionary (%) Wrds: Avr.
len. 4.45 4.71 4.41 (L avr ) Test document 1900 1826 (no.
wrds) No.
di. wrds 868 761 in test doc.
prediction. This is so even for the case of English, the written form of which has relatively few characters, andiseven more so for languages with large numbers of characters such as Chinese, Japanese, or Thai (78 characters).
We are thus obliged to use prediction.
3.2 Predictive
Text entry Generally, there are twoways to predict candidates.
The rst is the single-tap method.
The earliest appearance of this idea was at the beginning of the 80's in Japan, in discussions of processing systems for Japanese text(Co.Ltd., 1982);; more recent work has been concerned with mobile phones (James and Reischel, 2001)(Tanaka-Ishii et al., 2000).
The second wayisprediction by prefix.
Given a user input, the system searches for words with the corresponding prefix.
This method of collecting candidates to be oered to the user has been particularly successful in the entry of Chinesetext.
The method has alsobeen applied to certain text-entry systems in the man-machine interface domain, too (Masui, 1999).
As the description of x2 indicates, the combination of the two methods is adopted in our TouchMeKey4 system.
It thus needs to process many candidates for a single user entry.
The mechanism of estimating levels of relevance for the words is explained in the next section.
4 Applying
an Adaptive Language Model in Candidate Estimation As was summarized in x2, the PPM (prediction by partial match) framework is used by TouchMeKey4 to estimate the relevance of candidates.
Its characteristic is that the word distribution is adapted to the style of the user's corpus.
PPM was originally proposed as an adaptive language model for use in improving the compression rates of arithmetic coding.
The estimation of probabilities by PPM thus guarantees a lowering of the entropy of the language model.
PPM has successfully been adapted to the user-interface domain in certain previous works(Tanaka-Ishii et al., 2001)(Ward et al., 2000).
Broadly, PPM interpolates the n-gram counts in the user corpus and the statistics in the base dictionary.
The following formula is used to estimate a probability for the ith word w i, P(w i ): P(w i )= kmax X k=;1 u k P k (w i ) (1) Here, k, the order, indicates the number of words before w i that are used in the calculation of P k (w i ).
For example, P 2 (w i ) is estimated on the basis of the occurrence of w i;1 and w i;2 . P k (w i ) is calculated as: P k (w i )= c k (w i ) C k (2) where C k is the frequency of the order k as a context, and c k (w i ) is the frequency with which w i occurs in that context.
P k (w i ) when k = -1 describes a base probability that is obtained from the base dictionary.
For other k, P k (w i ) is calculated from statistics obtained from User corpus.
Finally, u k is a weighting probabilitythatismultiplied to P k (w i )toobtainthe nal P(w i ).
Of the manystudies of u k (Teahan, 2000), we have chosen PPM-A(Bell et al., 1990), the simplest, because our preliminary experiments showed no signi cant dierence in performance among the methods we tried.
We decided to utilize this PPM framework because the context is the most suitable item of information for the elimination of irrelevant candidates.
Small machines are in a personal context, and oce and household machines are used in particular contexts.
With this method, the language model is adaptable on the y.
This is achieved by simply accumulating the user's newly entered text at the end of the user corpus.
In this paper, the Base dictionary contains the unigram probabilities obtained from Wall Street Journal as was explained in x2.
We prepared various User corpora,: three in English, three in Japanese and two in Thai.
Of these, the characteristics of two of the English User corpora that are used in x6aregiven in Table 1.
5 Key
Assignment The assignment of characters to the respective buttons is one determinant of the eciency of text entry.
For example, if all characters from `a' to `w' are assigned to the rst key and `x', `y', and `z' are respectively assigned to the second, third and fourth keys, the performance in word prediction will clearly be bad.
The problem of key assignment remains even when we have eliminated such extreme possibilities, Table 2: Key assignments and entropy N K Lab.
Groups of characters Entropy 10 (S 0 )(S 1 )(abc)(def)(ghi)(jkl) 0.73 (mno)(pqrs)(tuv)(wxyz) 5 A (abcdef) (ghijkl) 1.09 (mnoS 0 )(pqrsS 1 ) (tuvwxyz) 1.09 5 B (S 0 S 1 ) (abcdef) (ghijkl) 1.40 (mnopqrs) (tuvwxyz) 5 C (S 1 mno) (abcpqrs) 1.14 (deftuv) (ghiwxyz) (jklS 0 ) 4 A (abcdef) (ghijkl) 1.40 (mnopqrs) (tuvwxyzS 0 S 1 ) 4 B (S 1 abc) (defghi) 1.56 (jklmnopqrs) (tuvwxyzS 1 ) 4 C (S 0 jkl) (abcmno) 1.76 (defpqrstuv) (ghiqxyzS 0 ) 3 A (S 1 abcdef) (ghijklmno) 1.95 (pqrstuvwxyS 0 ) 3 B (S 1 ghipqrs) (abcjkltuv) 1.91 (defmonqxyzS 0 ) 3 C (S 1 jklpqrstuv) (abcdefmno) 2.13 (ghiwxyzS 0 ) 2 (S 0 abcdefghijkl) 3.28 (mnopqrstuvwxyzS 0 ) because there are many plausible assignments.
We thus need to be able to measure the performance of a key assignment.
One way to measure this is to experimentally decide it by automatically entering some documents (as will be described in the x6 later in this paper).
However, the result of such a test is dependent on the test document which is used.
Lower-level settings, such as key assignments, should, as much as is possible, be for general-purpose use.
Having key sequences as C and the target word as W, the task of the system is to estimate a better W from C.
Information theory provides us with a tool for estimating the uncertaintyofthis task: the average conditional entropy.
The de nition of this quantity, H(WjC), is given by: H(WjC) (3) =  w;;c P(C = c)H(W = wjC = c) = ; w;;c P(C = c;;W = w)logP(W = wjC = c) where P(C = c) is the probability of the input sequence c and P(W = wjC = c) is the conditional probability of words for the given c.
When the estimation of W is less certain, H(WjC) has a larger value.
The lower the entropy, the less uncertain the estimation of the word.
Therefore, the conditional entropy is suitable as a method for the evaluation of key assignments.
One other factor that we need to consider at this point is the order of the alphabet.
English has an alphabet order that even children know.
If this order is neglected and the letters `ajxgukh' are assigned to a given key, the interface will become dicult for the beginners, although it might be the most ecientfor a well-trained user.
Therefore, the key assignments had better reect such linguistic tradition.
We took this into consideration in generating some possible key assignments.
Table 2 is a list of the assignments and their values of conditional entropyas calculated on the basis of one year of issues of WSJ.
The rst column shows the total number of keys (below denoted by N K ).
We here consider the situations where there are ve, three, and two, as well as four, buttons.
The second column gives a label for each of the key assignments.
In the third column, the characters to be assigned to the respective buttons are grouped in parentheses.
For example, 4-A indicates an assignment to four keys with 'abcdef' assigned to the rst button, 'ghijkl' to the second button, 'mnopqrs' to the third, and 'tuvwxyz' and other ASCII symbols to the fourth.
The capital letters are assigned to the same keys as the corresponding small letters.
S 0 and S 1 indicates the non-alphabetic ASCII symbols 3 . Note that 4-A corresponds to the TouchMeKey4 assignment whichwesaw in Figure 1-1.
The groupings with the label C are more random than those with other two.
In general, entropyvalues fall as the number ofkeys increases.
This is a readily comprehensible result;; a larger number of keys eases the task of estimation, thus making it less uncertain.
When we compare the values for assignments to the same numbers of keys, we see that the entropyvalues dier considerably.
For example, the entropy of 5-B indicates more uncertainty than the other 5-x assignments.
The entropy value is the same as for 4-A, although the number of keys in use is dierent (this is comprehensible when we look at the similar character groupings of 4-A and 5-B).
In this paper, we evaluate the use of key assignments with the label A on TouchMeKey4, since they havelower entropyvalues than the other settings.
6 Evaluation
6.1 Number of Keystrokes We attached an automatic text-entry routine to TouchMeKey4 and measured the numbers of keystrokes that are needed per word.
The number of keystrokes is the sum of the keystrokes required for the input and selection operations.
Keystrokes for selection are counted to be n when choosing the nth-candidate.
In the prediction of words, there are multiple points wherethe targetwordmaybechosen.
For example, in Figure 1, the word`technology'appears asthe secondbest choice after the user has typed in `41'.
The user may select the target at this pointortype in another `1' to indicate the `c' and increase the target's rank.
The automatic routine only chooses the target after it has appeared as the best candidate;; otherwise, the 3 These symbols are categorized into two groups according to the categorization used on mobile phones.
4 6 8 10 12 14 16 18 20 0 5000 10000 15000 2000 Avr.
No. of keystrokes / word learning data size(words) "baseline" "2keys" "3keys" "4keys" "5keys" "10keys" Figure 2: No.
keystrokes with learning of ZIFF 4 6 8 10 12 14 16 0 5000 10000 15000 2000 Avr.
No. of keystrokes / word learning data size(words) "baseline" "2keys" "3keys" "4keys" "5keys" "10keys" Figure 3: No.
keystrokes with learning of JA routine continues to enter the word.
When the full length of the word has been entered, the target word of the current ranking is chosen.
Figure 2 and 3 show the relation between the amount of learning data (horizontal axis) and the number of keystrokes per word (vertical).
The test document is indicated in Table 1 (7th row).
Data of the same kind but from dierent positions in the test data are used for the learning data and the test data.
The respective lines indicate learning when N K is 10, 5, 4, 3, and 2.
The larger the N K, the lower the line.
The horizontal solid line (around 5.5 taps per word) indicates the baseline, the average number of keystrokes needed to process a single word on a full keyboard.
This is calculated as L avr (in Table 1)+1(for space).
Note that TouchMeKey4 automatically enters the space.
When there is no learning data, TouchMeKey4 needs far more keystrokes than the baseline.
However, after the learning of ten thousand words, the number of keystrokes goes below the baseline when N K > 4.
In order to see the results at macroscopic scale, Table 3 shows the results after the learning of 50 thousand words.
The values indicate per-word keystrokes, and the percentages in the parentheses show the raTable 3: No.
keystrokes per word with learning of 50 000 words of the user corpus total number ZIFF JA of keys (N K ) 10 4.36(16.7%) 4.15(16.1%) 5 4.83(18.9%) 4.84(13.2%) 4 5.19(22.4%) 5.06(17.8%) 3 5.97(29.5%) 6.08(19.1%) 2 11.87(35.4%) 10.63(28.0%) tios bywhichthenumbers of keystrokes decrease as compared with the case of no learning of a user document.
We see that the numbers of keystrokes are reduced by about 30% for both ZIFF and JA.
When N K =4,thevalue falls to around 5.1.
Since L avr +1 is around 5.5, TouchMeKey4 provides a reduction in numbers of keystrokes of almost 9 % as compared with a full keyboard.
Super cially, this looks like a small gain.
However, it is surprising that, even with 4 buttons, text maybeentered with fewer keystrokes than with a full keyboard.
When N K = 3, on the other hand, the number of keystrokes remains at around 6.0 per word.
Therefore, when N K =3, the system requires a larger number of keystrokes than the baseline.
TouchMeKey4 also runs in Japanese and Thai, so we executed analogous experiments with those languages.
We obtained very similar graphs in these cases.
To resume, here are our observations across three languages:  Learning is indispensable for systems with small N K values to perform better than the baseline.
 However, a large amount of learning data is not necessary (text with ten thousand words is enough).
 When N K = 3, the number of keystrokes does not fall below the baseline.
6.2 Speed
Eightsubjectswerehired totest TouchMeKey4: three in English, three in Japanese, and twoinThai.Two of the subjects for the English are nativespeakers of Japanese.
The other subjects were the nativespeakers of the languages in the respective tests.
The subjects were told to do 10 sessions of testing.
Each session is 30 minutes long;; the subject was told to continue to enter the given text as quickly as was possible and without pausing during eachofthe sessions.
The vocabulary of the given text is solely from the learned user corpus.
TouchMeKey4 learned a 10-thousand-word user corpus before it was handed to the subjects.
For the text entry, they were given hardware controllers that work with TouchMeKey4.
Figure 4 gives the results on speed.
The horizontal axis describes the sessions and the vertical axis shows the average numbers of words per minute (wpm) in each session.
The respective lines indicate the speed 4 6 8 10 12 14 16 18 20 22 24 1 2 3 4 5 6 7 8 9 10 speed (wpm) session "English-1" "English-2" "English-3" "Japanese-1" "Japanese-2" "Japanese-3" "Thai-1" "Thai-2" Figure 4: Speed of the subjects over time.
After 5 hours training, entry by each of the subjects was at some rate above 12 wpm.
The speed of entry by the multi-tapping method on a mobile phone is in the range from 5 to 10 wpm(James and Reischel, 2001), so TouchMeKey4 obviously allows higher rates of text entry.
Furthermore, the speeds are comparable to those obtained with the single-tapping method on mobile phones (7 to 25 wpm(James and Reischel, 2001)).
One subject set the record, reaching 23 wpm.
This speed is comparable to that of an expert with the single-tapping method.
Predictive text entry thus prevented deterioration of performance, despite the number of buttons being decreased from 10 to 4.
With regard to human learning, the more highly the subject was trained, the faster he or she became.
The speeds of some subjects who had had diculties at the beginning of the tests had doubled by the end.
Language-by-language comparison reveals that Japanese text entry was fastest.
Although the entropy value for Japanese is by far greater than the values for Thai and English (4.05 for Japanese and 1.13 for Thai), the Japanese subjects managed well with TouchMeKey4 because they are accustomed to the use of predictive text entry in kana-kanji conversion.
Wemust admit that TouchMeKey4 places a heavier cognitive load on users than does text entry via a full keyboard (40 to 60 wpm) or a stylus and virtual keyboard (32.5 wpm(Zhai et al., 2000)).
However, we regard the speed as satisfactory in comparison with those achieved by using single-tap-by-character entry systems on mobile phones.
7 Conclusion
Wehave presented TouchMeKey4, a text entry device that requires only four buttons, and aspects of its design and testing.
Several characters of the alphabet are assigned to each of four buttons and the user enters a document with the aid of a predictive text-entry system.
The device is realized by software that estimates the word that most probably corresponds with the user input.
The estimate is based on an adaptivestatistical language model.
Firstly, a base model is constructed from a large body of text from newspapers;; the model is then adapted to the local context by using a smaller user corpus of 10 thousand words.
Our evaluation shows that text entry with this system is as ecient as text entry on a mobile phone.
The number of keystrokes is reducible to a number below that required on a full keyboard.
The average speed of our test subjects was 14 words per minute, and the fastest subject recorded 23 wpm.
We also discussed the possibilityofentering text via even fewer keys, e.g., three keys.
However, the usability of a three-key device turned out to be questionable, because the number of keys needed to enter text becomes large.
Our future direction will be to investigate the actual application of the system on smaller machines and to develop a text-entry system for use by elderly and disabled people.

